/*! Deferred Util - v0.1.2 - 2014-06-08
* https://github.com/kakusuke/jquery-deferred-util
* Copyright (c) 2014 kakusuke; Licensed MIT */
!function(a){var b=function(b){var c=a.Deferred();return setTimeout(c.resolve,b),c},c=function(){function b(){function c(b){var c=d[b],f=a.Deferred();a.when.apply(a,e).done(function(){(c.call(this)||a.Deferred().resolve()).always(function(){f.resolve(),e.splice(a.inArray(f,e),1)})}),e.push(f)}if(!(this instanceof b))return new b;var d=[],e=[],f=a.Deferred();a.extend(this,{add:function(a){d.push(a)},play:function(){f=a.Deferred();for(var b=0,g=d.length;g>b;b++)c(b);a.when.apply(a,e).done(f.resolve).fail(f.reject)},promise:function(){return f.promise()}})}return b}();a.extend({wait:b,Sequence:c})}(jQuery);